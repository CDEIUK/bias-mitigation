{"componentChunkName":"component---src-templates-post-js","path":"/finance/data/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"The Adult data set\",\n  \"order\": 2\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Before we do any modelling, we should think about what we are trying to achieve and identify possible bias-related risks, as well as whether the data we have available to us is appropriate for the task.\"), mdx(\"h2\", null, \"Purpose identification\"), mdx(\"p\", null, \"Our goal is to try and predict an individual's annual income in order to target marketing for a premium credit card. Since our model is based on demographic information, it is at risk of perpetuating or exacerbating demographic inequality. In particular we should be mindful of possible racial disparities present in the data, which the model could then use for classification. Similarly there is a gender pay gap which is likely to manifest in the data we have available to us, so we are vulnerable to gender bias.\"), mdx(\"h2\", null, \"Data identification\"), mdx(\"p\", null, \"The data we have available to us is the Adult data set from the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://archive.ics.uci.edu/ml/datasets/Adult\"\n  }), \"UCI Machine learning repository\"), \". Contains 14 features:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"age\"), \": The age of the individual in years,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"capital_gain\"), \": Capital gain in the previous year,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"capital_loss\"), \": Capital loss in the previous year,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"education\"), \": Highest level of education achieved by the individual,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"education-num\"), \": A numeric form of the highest level of education achieved,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fnlwgt\"), \": An estimate of the number of individuals in the population with the same demographics as this individual,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"hours_per_week\"), \": Hours worked per week,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"marital_status\"), \": The marital status of the individual,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"native_country\"), \": The native country of the individual,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"occupation\"), \": The occupation of the individual,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"race\"), \": The individual's race,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"relationship\"), \": The individual's relationship status,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sex\"), \": The individual's sex,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"workclass\"), \": The industry / sector that the individual works in.\")), mdx(\"p\", null, \"In addition to this, the binary label \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"salary\"), \" encodes whether individual earns more or less than $50,000.\"), mdx(\"p\", null, \"In this case we don't have the means to collect different data. In the real world we would always consider whether we could have access to better data that is more representative. For example, the data we are using was collected in 1994, so it's quite likely that the demographic patterns captured in the data are no longer representative. If we were performing this task for real we would likely recommend that more up to date data is collected, that better reflects demographic shifts in the intervening 26 years.\"), mdx(\"p\", null, \"Another consideration is the representation of different groups in the data. Men outnumber women almost two to one, white respondents outnumber black respondents nine to one, and asian respondents almost thirty to one. This means that our data is not representative of the overall population which isn't ideal, but the bigger problem is that there are relatively few observations of precisely those individuals who are at risk of mistreatment. In order to minimise the risk of bias we should make sure that all groups are well represented in our data.\"), mdx(\"p\", null, \"Since we are merely demonstrating different methods of measuring and mitigating bias we proceed with the data as is, but in a real world application we should see if we can collect more data in order to ensure better representation.\"), mdx(\"p\", null, \"As well as determining whether we could collect more data, we should also consider whether the data we have is appropriate for the task at hand. In this case we decide that the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fnlwgt\"), \" feature is not relevant to the task of predicting someone's salary, and drop the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"education-num\"), \" column as it contains duplicate information also available in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"education\"), \" column. Of the remaining features we decide that for now we are happy to include all of them in the model, though we should take care to measure the impact of including features such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"race\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sex\"), \". As discussed in our report, simply excluding these features is not in any case guaranteed to prevent the resulting model to be unbiased. We scale the continuous ones, and one-hot encode the categorical ones ready for modelling. You can see all of the preprocessing we do \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://mybinder.org/v2/gh/imrehg/cdei-development/master?filepath=notebooks%2Ffinance%2Fdata.ipynb\",\n    \"title\": \"Open notebook on Binder\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"Once the data has been preprocessed, we can look at bias that is present in the data, before we have even trained a model. First, we look at the proportion of men and women that earn more than $50,000 dollars, we see that the proportion is much higher for men.\"), mdx(LazyPlot, _extends({}, salary_by_sex, {\n    mdxType: \"LazyPlot\"\n  })), mdx(\"p\", null, \"Similarly, there is a large disparity in proportion of individuals earning more than $50,000 across different races.\"), mdx(LazyPlot, _extends({}, salary_by_race, {\n    mdxType: \"LazyPlot\"\n  })), mdx(\"p\", null, \"Finally, we identify a possible \\\"legitimate risk factor\\\" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"hours_per_week\"), \" feature. There is a clear relationship between the number of hours worked per week and the chances that the individual earns more than $50,000, which stands to reason. Of course we should be careful, because the number of hours worked per week by any one person is itself influenced by societal factors. For example, women are more often than men expected to play the role of a home-maker, and so may not work as many hours.\"), mdx(LazyPlot, _extends({}, salary_by_hpw, {\n    mdxType: \"LazyPlot\"\n  })), mdx(\"p\", null, \"Next we'll try training a model without any attempt to mitigate bias and investigate the results.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"The Adult data set"},"fields":{"collection":"finance"}}},"pageContext":{"slug":"/finance/data/","next":{"fields":{"collection":"finance","slug":"/finance/biased-model/"},"frontmatter":{"order":3,"title":"Training a biased model"}},"previous":{"fields":{"collection":"finance","slug":"/finance/intro/"},"frontmatter":{"order":1,"title":"Introduction"}}}}}